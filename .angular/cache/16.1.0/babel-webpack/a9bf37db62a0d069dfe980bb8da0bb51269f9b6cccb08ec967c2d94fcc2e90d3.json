{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { AgeService } from 'src/app/age.service';\nimport { WorkshopStatusService } from '../workshop-status.service';\nimport { WorkshopService } from 'src/app/workshop.service';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../localstorage-service.service\";\nimport * as i4 from \"src/app/age.service\";\nimport * as i5 from \"src/app/workshop.service\";\nimport * as i6 from \"../workshop-status.service\";\nimport * as i7 from \"@angular/common\";\nfunction AddWorkshopComponent_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const atelier_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", atelier_r3.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(atelier_r3.label);\n  }\n}\nfunction AddWorkshopComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r4.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r4.label);\n  }\n}\nfunction AddWorkshopComponent_ng_container_36_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const preview_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", preview_r5.imageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AddWorkshopComponent_ng_container_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Titre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tr\")(8, \"th\");\n    i0.ɵɵtext(9, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\")(13, \"th\");\n    i0.ɵɵtext(14, \"\\u00C2ge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tr\")(18, \"th\");\n    i0.ɵɵtext(19, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"tr\")(23, \"th\");\n    i0.ɵɵtext(24, \"Dur\\u00E9e\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"tr\")(28, \"th\");\n    i0.ɵɵtext(29, \"Prix\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"td\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(32, AddWorkshopComponent_ng_container_36_div_32_Template, 2, 1, \"div\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const preview_r5 = ctx.ngIf;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(preview_r5.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(preview_r5.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(preview_r5.age);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(preview_r5.date);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(preview_r5.duration);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(preview_r5.price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", preview_r5.imageUrl);\n  }\n}\nexport class AddWorkshopComponent {\n  constructor(formBuilder, router, localstorageService, ageService, workshopService, workshopStatusService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.localstorageService = localstorageService;\n    this.ageService = ageService;\n    this.workshopService = workshopService;\n    this.workshopStatusService = workshopStatusService;\n    this.ageOptions = [];\n    this.atelierOptions = [];\n  }\n  ngOnInit() {\n    this.createForm();\n    this.ageOptions = this.ageService.getAgeOptions();\n    this.atelierOptions = this.workshopService.getWorkshopName();\n    this.preview$ = this.workshopsForm.valueChanges.pipe(map(formValue => ({\n      ...formValue,\n      id: 0\n    })));\n  }\n  createForm() {\n    const ageOptions = this.ageService.getAgeOptions();\n    const atelierOptions = this.workshopService.getWorkshopName();\n    this.workshopsForm = this.formBuilder.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      age: ['', Validators.required],\n      date: ['', Validators.required],\n      price: ['', Validators.required],\n      duration: ['', Validators.required],\n      imageUrl: ['', Validators.required]\n    });\n  }\n  get formControls() {\n    return this.workshopsForm.controls;\n  }\n  isWorkshopPassed(date) {\n    const currentDate = new Date();\n    return date < currentDate;\n  }\n  onSubmit() {\n    if (this.workshopsForm.invalid) {\n      alert('Veuillez remplir tous les champs obligatoires.');\n      return;\n    }\n    const workshop = this.workshopsForm.value;\n    this.localstorageService.addWorkshop(workshop);\n    const isWorkshopPassed = this.isWorkshopPassed(workshop.date);\n    this.workshopStatusService.updateWorkshopStatus(isWorkshopPassed);\n    this.router.navigate(['liste']);\n  }\n}\nAddWorkshopComponent.ɵfac = function AddWorkshopComponent_Factory(t) {\n  return new (t || AddWorkshopComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LocalstorageService), i0.ɵɵdirectiveInject(i4.AgeService), i0.ɵɵdirectiveInject(i5.WorkshopService), i0.ɵɵdirectiveInject(i6.WorkshopStatusService));\n};\nAddWorkshopComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddWorkshopComponent,\n  selectors: [[\"app-add-workshop\"]],\n  features: [i0.ɵɵProvidersFeature([WorkshopStatusService, AgeService, WorkshopService])],\n  decls: 38,\n  vars: 6,\n  consts: [[1, \"workshop-form\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"title\"], [\"formControlName\", \"title\", \"id\", \"title\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\"], [\"for\", \"age\"], [\"formControlName\", \"age\", \"id\", \"age\"], [\"for\", \"date\"], [\"id\", \"date\", \"type\", \"date\", \"formControlName\", \"date\"], [\"for\", \"duration\"], [\"id\", \"duration\", \"type\", \"text\", \"formControlName\", \"duration\"], [\"for\", \"price\"], [\"id\", \"price\", \"type\", \"text\", \"formControlName\", \"price\"], [\"for\", \"imageUrl\"], [\"id\", \"imageUrl\", \"type\", \"text\", \"formControlName\", \"imageUrl\"], [\"type\", \"submit\"], [1, \"workshop-form-pre\"], [4, \"ngIf\"], [3, \"value\"], [\"alt\", \"Image de l'atelier\", 3, \"src\"]],\n  template: function AddWorkshopComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Cr\\u00E9ation d'un nouvel atelier\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function AddWorkshopComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Atelier\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"select\", 3);\n      i0.ɵɵtemplate(7, AddWorkshopComponent_option_7_Template, 2, 2, \"option\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\")(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"textarea\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"label\", 7);\n      i0.ɵɵtext(13, \"\\u00C2ge\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 8);\n      i0.ɵɵtemplate(15, AddWorkshopComponent_option_15_Template, 2, 2, \"option\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\")(17, \"label\", 9);\n      i0.ɵɵtext(18, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\")(21, \"label\", 11);\n      i0.ɵɵtext(22, \"Dur\\u00E9e\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\")(25, \"label\", 13);\n      i0.ɵɵtext(26, \"Prix\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\")(29, \"label\", 15);\n      i0.ɵɵtext(30, \"URL de l'image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"p\");\n      i0.ɵɵelementStart(33, \"button\", 17);\n      i0.ɵɵtext(34, \"Enregistrer\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 18);\n      i0.ɵɵtemplate(36, AddWorkshopComponent_ng_container_36_Template, 33, 7, \"ng-container\", 19);\n      i0.ɵɵpipe(37, \"async\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.workshopsForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.atelierOptions);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.ageOptions);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(37, 4, ctx.preview$));\n    }\n  },\n  dependencies: [i7.NgForOf, i7.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i7.AsyncPipe],\n  styles: [\".workshop-form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  box-sizing: border-box;\\n  text-align: center;\\n  margin: 0 auto;\\n  background-color: #f9f9f9;\\n  padding: 10px 30px;\\n  border-radius: 10px;\\n  box-shadow: lightgray 4px 4px 20px;\\n}\\n\\n.workshop-form-pre[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  box-sizing: border-box;\\n  text-align: center;\\n  margin: 0 auto;\\n  background-color: #f9f9f9;\\n  padding: 10px 30px;\\n  border-radius: 10px;\\n  box-shadow: lightgray 4px 4px 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n}\\n\\nbutton[type=submit][_ngcontent-%COMP%] {\\n  background-color: rgb(202, 127, 21);\\n  color: #fff;\\n  padding: 10px 20px;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  display: inline-block;\\n}\\n\\nbutton[type=submit][_ngcontent-%COMP%]:disabled {\\n  background-color: #ccc;\\n  cursor: not-allowed;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  text-align: center;\\n  color: rgb(202, 127, 21);\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n  text-align: center;\\n}\\n\\ninput[type=date][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n}\\n\\nselect[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n}\\n\\npre[_ngcontent-%COMP%] {\\n  background-color: #f4f4f4;\\n  padding: 10px;\\n  border-radius: 5px;\\n  overflow-x: auto;\\n}\\n\\ncode[_ngcontent-%COMP%] {\\n  font-family: \\\"Courier New\\\", Courier, monospace;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRkLXdvcmtzaG9wL2FkZC13b3Jrc2hvcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGdCQUFBO0VBQ0osc0JBQUE7RUFDSSxrQkFBQTtFQUNGLGNBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQ0FBQTtBQUFGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDRixzQkFBQTtFQUNJLGtCQUFBO0VBQ0YsY0FBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtDQUFBO0FBQ0Y7O0FBSUE7RUFDRSxpQkFBQTtBQURGOztBQUlBOztFQUVFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0FBREY7O0FBSUE7RUFDRSxtQ0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxxQkFBQTtBQURGOztBQUlBO0VBQ0Usc0JBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO0FBREY7O0FBSUU7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0FBREo7O0FBSUU7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQURGOztBQUlBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUFERjs7QUFJQTtFQUNFLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFERjs7QUFJQTtFQUNFLDhDQUFBO0VBQ0EsZUFBQTtBQURGIiwic291cmNlc0NvbnRlbnQiOlsiLndvcmtzaG9wLWZvcm0ge1xuXG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDAgYXV0bztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgcGFkZGluZzogMTBweCAzMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3gtc2hhZG93OiBsaWdodGdyYXkgNHB4IDRweCAyMHB4O31cblxuLndvcmtzaG9wLWZvcm0tcHJlIHtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDAgYXV0bztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgcGFkZGluZzogMTBweCAzMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3gtc2hhZG93OiBsaWdodGdyYXkgNHB4IDRweCAyMHB4O1xufVxuXG5cblxubGFiZWwge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuaW5wdXRbdHlwZT1cInRleHRcIl0sXG50ZXh0YXJlYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IFxufVxuXG5idXR0b25bdHlwZT1cInN1Ym1pdFwiXSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyMDIsIDEyNywgMjEpO1xuICBjb2xvcjogI2ZmZjtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbmJ1dHRvblt0eXBlPVwic3VibWl0XCJdOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuaDEge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiByZ2IoMjAyLCAxMjcsIDIxKTtcbn1cblxuICBoMiB7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICBpbnB1dFt0eXBlPVwiZGF0ZVwiXSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbnNlbGVjdHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxucHJlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBvdmVyZmxvdy14OiBhdXRvO1xufVxuXG5jb2RlIHtcbiAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIENvdXJpZXIsIG1vbm9zcGFjZTtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["Validators","AgeService","WorkshopStatusService","WorkshopService","map","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","atelier_r3","value","ɵɵadvance","ɵɵtextInterpolate","label","option_r4","ɵɵelement","preview_r5","imageUrl","ɵɵsanitizeUrl","ɵɵelementContainerStart","ɵɵtemplate","AddWorkshopComponent_ng_container_36_div_32_Template","ɵɵelementContainerEnd","title","description","age","date","duration","price","AddWorkshopComponent","constructor","formBuilder","router","localstorageService","ageService","workshopService","workshopStatusService","ageOptions","atelierOptions","ngOnInit","createForm","getAgeOptions","getWorkshopName","preview$","workshopsForm","valueChanges","pipe","formValue","id","group","required","formControls","controls","isWorkshopPassed","currentDate","Date","onSubmit","invalid","alert","workshop","addWorkshop","updateWorkshopStatus","navigate","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","i3","LocalstorageService","i4","i5","i6","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","AddWorkshopComponent_Template","rf","ctx","ɵɵlistener","AddWorkshopComponent_Template_form_ngSubmit_3_listener","AddWorkshopComponent_option_7_Template","AddWorkshopComponent_option_15_Template","AddWorkshopComponent_ng_container_36_Template","ɵɵpipeBind1"],"sources":["/Users/arc.admin/Documents/gestion-documents-sgbd/src/app/add-workshop/add-workshop.component.ts","/Users/arc.admin/Documents/gestion-documents-sgbd/src/app/add-workshop/add-workshop.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LocalstorageService } from '../localstorage-service.service';\nimport { AgeService } from 'src/app/age.service';\nimport { WorkshopStatusService } from '../workshop-status.service';\nimport { WorkshopService } from 'src/app/workshop.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Workshop } from '../workshop-model';\n\n\n@Component({\n  selector: 'app-add-workshop',\n  templateUrl: './add-workshop.component.html',\n  styleUrls: ['./add-workshop.component.scss'],\n    providers: [WorkshopStatusService, AgeService, WorkshopService]\n})\n\n\n\nexport class AddWorkshopComponent implements OnInit {\n  workshopsForm!: FormGroup;\n    preview$!: Observable<Workshop>;\n\n  ageOptions: { value: string, label: string }[] = [];\natelierOptions: { value: string, label: string }[] = [];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private localstorageService: LocalstorageService,\n    private ageService: AgeService,\n    private workshopService: WorkshopService,\n    private workshopStatusService: WorkshopStatusService\n\n  ) {}\n\n  ngOnInit(): void {\n    this.createForm();\n    this.ageOptions = this.ageService.getAgeOptions();\n        this.atelierOptions = this.workshopService.getWorkshopName();\n this.preview$ = this.workshopsForm.valueChanges.pipe(\n      map((formValue) => ({\n        ...formValue,\n        id: 0 \n      }))\n    );\n  }\n\n createForm(): void {\n  const ageOptions = this.ageService.getAgeOptions();\n    const atelierOptions = this.workshopService.getWorkshopName();\n\n\n  this.workshopsForm = this.formBuilder.group({\n    title: ['', Validators.required],\n    description: ['', Validators.required],\n    age: ['', Validators.required],\n    date: ['', Validators.required],\n    price: ['', Validators.required],\n    duration: ['', Validators.required],\n    imageUrl: ['', Validators.required],\n  });\n}\n\n\n  get formControls() {\n    return this.workshopsForm.controls;\n  }\n\n isWorkshopPassed(date: Date): boolean {\n  const currentDate = new Date();\n  return date < currentDate;\n}\n\n  onSubmit(): void {\n    if (this.workshopsForm.invalid) {\n      alert('Veuillez remplir tous les champs obligatoires.');\n      return;\n    }\n\n    const workshop = this.workshopsForm.value;\n    this.localstorageService.addWorkshop(workshop);\n    const isWorkshopPassed = this.isWorkshopPassed(workshop.date);\n  this.workshopStatusService.updateWorkshopStatus(isWorkshopPassed);\n    this.router.navigate(['liste']);\n  }\n  \n}\n","<div class=\"workshop-form\">\n  <h1>Création d'un nouvel atelier</h1>\n  <form [formGroup]=\"workshopsForm\" (ngSubmit)=\"onSubmit()\">\n    <label for=\"title\">Atelier</label>\n    <select formControlName=\"title\" id=\"title\">\n      <option *ngFor=\"let atelier of atelierOptions\" [value]=\"atelier.value\">{{ atelier.label }}</option>\n    </select>\n    <div>\n      <label for=\"description\">Description</label>\n      <textarea id=\"description\" formControlName=\"description\"></textarea>\n    </div>\n    <label for=\"age\">Âge</label>\n    <select formControlName=\"age\" id=\"age\">\n      <option *ngFor=\"let option of ageOptions\" [value]=\"option.value\">{{ option.label }}</option>\n    </select>\n    <div>\n      <label for=\"date\">Date</label>\n      <input id=\"date\" type=\"date\" formControlName=\"date\">\n    </div>\n    <div>\n      <label for=\"duration\">Durée</label>\n      <input id=\"duration\" type=\"text\" formControlName=\"duration\">\n    </div>\n    <div>\n      <label for=\"price\">Prix</label>\n      <input id=\"price\" type=\"text\" formControlName=\"price\">\n    </div>\n    <div>\n      <label for=\"imageUrl\">URL de l'image</label>\n      <input id=\"imageUrl\" type=\"text\" formControlName=\"imageUrl\">\n    </div>\n    <p></p>\n    <button type=\"submit\">Enregistrer</button>\n  </form>\n</div>\n\n<div class=\"workshop-form-pre\">\n    <ng-container *ngIf=\"preview$ | async as preview\">\n    <table>\n      <tr>\n        <th>Titre</th>\n        <td>{{ preview.title }}</td>\n      </tr>\n      <tr>\n        <th>Description</th>\n        <td>{{ preview.description }}</td>\n      </tr>\n      <tr>\n        <th>Âge</th>\n        <td>{{ preview.age }}</td>\n      </tr>\n      <tr>\n        <th>Date</th>\n        <td>{{ preview.date }}</td>\n      </tr>\n      <tr>\n        <th>Durée</th>\n        <td>{{ preview.duration }}</td>\n      </tr>\n      <tr>\n        <th>Prix</th>\n        <td>{{ preview.price }}</td>\n      </tr>\n    </table>\n    <div *ngIf=\"preview.imageUrl\">\n      <img [src]=\"preview.imageUrl\" alt=\"Image de l'atelier\">\n    </div>\n  </ng-container>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}